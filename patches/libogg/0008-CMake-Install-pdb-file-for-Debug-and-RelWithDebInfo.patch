From a054524f879227683c766184e6be7db7d8a783d0 Mon Sep 17 00:00:00 2001
From: Marcel Metz <mmetz@adrian-broher.net>
Date: Tue, 8 Mar 2016 10:56:04 +0100
Subject: [PATCH 08/10] CMake: Install pdb file for `Debug` and
 `RelWithDebInfo`

---
 CMakeLists.txt | 7 +++++++
 1 file changed, 7 insertions(+)

diff --git a/CMakeLists.txt b/CMakeLists.txt
index f989049..a6d6c1b 100644
--- a/CMakeLists.txt
+++ b/CMakeLists.txt
@@ -110,3 +110,10 @@ install(TARGETS ogg RUNTIME DESTINATION ${CMAKE_INSTALL_BINDIR} LIBRARY DESTINAT
 if(NOT WIN32 OR CYGWIN)
     install(FILES ogg.pc DESTINATION ${CMAKE_INSTALL_LIBDIR}/pkgconfig)
 endif()
+if(BUILD_SHARED_LIBS AND (MSVC_VERSION GREATER 1500) AND (NOT CMAKE_VERSION VERSION_LESS "3.1"))
+    install(
+        FILES $<TARGET_PDB_FILE:ogg>
+        DESTINATION ${CMAKE_INSTALL_LIBDIR}
+        CONFIGURATIONS Debug RelWithDebInfo
+    )
+endif()
-- 
2.5.0

